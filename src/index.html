<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korppi Prototype</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">

        <header>
            <h1>ü¶Ä Korppi Prototype</h1>
            <p>Pijul Validation Tests</p>
        </header>

        <!-- DAY 1: Initialization -->
        <section class="test-section priority">
            <h2>üéØ Day 1: Initialization Test</h2>
            <p>Verify that Pijul can create and validate a repository structure inside a Tauri app.</p>

            <div class="button-group">
                <button id="test-init" class="primary">‚ñ∂Ô∏è Test Pijul Init</button>
                <button id="repo-status">üìä Status</button>
                <button id="reset-repo" class="danger">üóëÔ∏è Reset</button>
            </div>

            <div id="init-result" class="result"></div>
            <div id="status-result" class="result"></div>
        </section>

        <!-- Help / Explanation -->
        <section class="info-section">
            <h3>Day 1 Success Criteria</h3>
            <ul>
                <li><strong>Created:</strong> .pijul/ with pristine/ and changes/</li>
                <li><strong>Database:</strong> pristine/db exists</li>
                <li><strong>Main channel:</strong> opens without errors</li>
                <li><strong>No runtime errors:</strong> Tauri + libpijul run cleanly</li>
            </ul>
        </section>

        <!-- DAY 2 -->
        <section class="test-section">
            <h2>Day 2: Recording Changes</h2>
            <p>Test Pijul's change recording mechanism.</p>

            <textarea id="content">Hello, world!</textarea>
            <input id="message" type="text" value="Test commit" placeholder="Commit message">

            <div class="button-group">
                <button id="record-change">Record Change</button>
                <button id="show-history">Show History</button>
            </div>

            <div id="record-result" class="result"></div>
            <pre id="history" class="history"></pre>
        </section>

        <!-- DAY 3 -->
        <section class="test-section">
            <h2>Day 3: Conflict Detection</h2>
            <p>Simulate a deterministic conflict.</p>

            <button id="test-conflict">Simulate Conflict</button>
            <div id="conflict-result" class="result"></div>
        </section>

        <!-- Debug -->
        <section class="debug-section">
            <h3>Debug Information</h3>
            <button id="show-debug">Show Debug Info</button>
            <pre id="debug-output" class="debug-output"></pre>
        </section>

    </div>

    <script src="main.js"></script>
</body>
</html>
